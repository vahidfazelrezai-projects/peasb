{% extends "base.html" %}

{% block body %}
  {% include "navbar.html" %}
{% endblock %}

{% block content %}
  <div class="page-header"><h1>{{ round.name }}</h1></div>
  <br>
  <ol>
    {% for question in round.question_set.all|dictsort:"index" %}
      <center><strong style="text-transform: uppercase;">
          {{ question.question_type }}
      </strong></center> <br>
      <li>
        {{ question.subject }} <i>{{ question.question_format }}</i>
        <div style="display: inline; white-space: pre-wrap;">{{ question.question }}</div> <span style="float: right; font-size: 0.8em;">Written by {{ question.author.first_name }} {{ question.author.last_name }}.</span> <br> <br>
        ANSWER: {{ question.answer }}<br>
      </li>
      <br> <br>
    {% endfor %}
  </ol>
{% endblock %}

{% block footer %}
  <div id="footer">
    <div class="container">
      <button id="tossup" class="btn" style="margin-top: 12px; width: 70px;">
        Toss up
      </button>
    </div>
  </div>
  <script> 
    var instance = 0;
    function go(t, inst){
      if(instance == inst){
        if(t > 0){
          $( "#tossup" ).text(t);
          setTimeout(function(){go(t-1, inst)}, 1000);
        } else {
          $( "#tossup" ).text("TIME!");
          setTimeout(function(){$( "#tossup" ).text("Toss up")}, 2000);
        }
      }
    }
    $( "#tossup" ).click(function( event ) {
      instance++;
      go(5, instance);
    });
  </script> 
{% endblock %}

